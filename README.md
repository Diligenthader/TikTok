<h3 align="center">About NigTusg.</h3>
<!-- <h3 align="center">About NigTusg.</h3> æ˜¯HTMLè¯­æ³•ï¼Œç”¨äºåˆ›å»ºå±…ä¸­çš„ä¸‰çº§æ ‡é¢˜ã€‚-->
<div style="display:flex" height="auto" width="auto"> <!-- ç¬¬ä¸€ä¸ªä¸ªdivè¡¨ç¤ºä¸ºç¬¬ä¸€ä¸ªå¤§çš„åŒºé—´å—ï¼Œç”¨äºå­˜æ”¾ä»£ç -->
    <!-- <div style="display:flex" height="auto" width="auto"> æ˜¯ä¸€ä¸ªHTMLæ ‡ç­¾ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªHTMLå…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ è¢«ç§°ä¸º â€œdivâ€ã€‚â€œdivâ€ æ˜¯ â€œdivisionâ€ çš„ç¼©å†™ï¼Œæ„å‘³ç€å®ƒå¯ä»¥ç”¨æ¥åˆ’åˆ†é¡µé¢çš„ä¸åŒéƒ¨åˆ†ã€‚
         åœ¨è¿™ä¸ªæ ‡ç­¾ä¸­ï¼Œstyle="display:flex" æ˜¯ä¸€ä¸ªCSSå±æ€§ï¼Œå®ƒè®¾ç½®äº†è¿™ä¸ªdivçš„å¸ƒå±€ä¸ºå¼¹æ€§ç›’å­ï¼ˆflexboxï¼‰ã€‚å¼¹æ€§ç›’å­æ˜¯ä¸€ç§ç”¨äºåœ¨é¡µé¢ä¸Šå¯¹å…ƒç´ è¿›è¡Œå¸ƒå±€ã€å¯¹é½å’Œåˆ†é…ç©ºé—´çš„å·¥å…·ã€‚
         height="auto" å’Œ width="auto" æ˜¯HTMLå±æ€§ï¼Œå®ƒä»¬è®¾ç½®äº†è¿™ä¸ªdivçš„é«˜åº¦å’Œå®½åº¦è‡ªåŠ¨é€‚åº”å…¶å†…å®¹çš„å¤§å°ã€‚
    -->
    <div>
        <div style="flex:1">
            <img src="https://media.giphy.com/media/WUlplcMpOCEmTGBtBW/giphy.gif" width="40"></div>
            Helloï¼èŒ«èŒ«äººæµ·ï¼Œæ„Ÿè°¢ç›¸é‡ ğŸ”†  
            <img align="right" alt="GIF" src="https://user-images.githubusercontent.com/105040964/205486218-b8a4f47d-6a8e-420e-bba6-0ddce8c4deac.gif" width="430" height="100%" /> 
         </div>
    <!-- è¿™æ˜¯ä¸€ä¸ªHTMLæ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸Šæ’å…¥ä¸€å¼ å›¾ç‰‡ å…¶ä¸­ï¼Œsrcè¿™éƒ¨åˆ†å®šä¹‰äº†å›¾ç‰‡çš„æ¥æºåœ°å€ï¼Œå³ä¸ºå›¾ç‰‡çš„URL
         alt="GIF" è¿™éƒ¨åˆ†ä¸ºå›¾ç‰‡çš„æ›¿ä»£æ–‡æœ¬ï¼Œå¦‚æœå›¾ç‰‡æ˜¾ç¤ºå¼‚å¸¸ï¼Œå°±ä¼šæ˜¾ç¤ºè¿™ä¸ªæ–‡æœ¬
         align="right"ï¼šè¿™éƒ¨åˆ†è®¾ç½®äº†å›¾ç‰‡çš„å¯¹é½æ–¹å¼ï¼Œä½¿å›¾ç‰‡åœ¨å…¶å®¹å™¨ä¸­å³å¯¹é½ã€‚
         width="430"ï¼šè¿™éƒ¨åˆ†è®¾ç½®äº†å›¾ç‰‡çš„å®½åº¦ä¸º430åƒç´ ã€‚
         height="100%"ï¼šè¿™éƒ¨åˆ†è®¾ç½®äº†å›¾ç‰‡çš„é«˜åº¦ä¸ºå…¶å®¹å™¨çš„100%ã€‚
    -->
    <!-- åœ¨è¿™ç¬¬ä¸€ä¸ªåµŒå¥—çš„å­åŒºé—´ä»£ç å—ä¸­ï¼Œåˆ†åˆ«åµŒå…¥äº†ä¸¤ä¸ªdivï¼Œä¸€ä¸ªæ˜¯ç®€ä»‹ï¼Œä¸€ä¸ªæ˜¯åŠ¨å›¾-->
       
</br>
        <div style="flex:1" >
            <ul >
              <li>ğŸ‡ å–œæ¬¢åˆ†äº«ç¼–ç¨‹çŸ¥è¯†ï¼Œæ›´æ¬¢è¿æ¥äº¤æµå­¦ä¹ ã€‚ </li>
              <li>â›… å¸Œæœ›æœ‰ä¸€å¤©èƒ½å¤Ÿæˆä¸ºå¾ˆå‰å®³çš„æ¶æ„å¸ˆã€‚ </li>
              <li>ğŸŒ€ æˆ‘çš„é‚®ç®± : XuZh01050@gmail.com </li>
              <li>ğŸŒŠ ä¸€åè®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯çš„æœ¬ç§‘ç”Ÿ </li>
              <li>ğŸŒ´ æƒ³è¦å»æ­å·å·¥ä½œ  </li>
            </ul>  <!-- <ul> å’Œ <li> æ˜¯ç”¨æ¥åˆ›å»ºæ— åºåˆ—è¡¨çš„HTMLæ ‡ç­¾ -->
        </div>      
</div> 
    <br>
    </br>



## ä¸Šæ‰‹æŒ‡å—

### å¯åŠ¨æœåŠ¡

å°†`config.yaml`ä¸­æ‰€æœ‰hostæ”¹ä¸ºæœ¬æœºåœ°å€åè¾“å…¥

```bash
docker-compose up
```

å³å¯é€šè¿‡dockerå¿«é€Ÿå¯åŠ¨éƒ¨ç½²æœåŠ¡åŠç›¸å…³ä¾èµ–æœåŠ¡

### ç›¸å…³ç¯å¢ƒ

- **golang**>= 1.18
- **mysql**>=8.0ï¼šæ•°æ®åº“
- **redis**>=7.0.0ï¼šç¼“å­˜
- **minio**ï¼šå¯¹è±¡å­˜å‚¨
- **ffmpeg**ï¼šè·å–è§†é¢‘å°é¢

## æŠ€æœ¯é€‰å‹

<img src="https://img-blog.csdnimg.cn/0d5cabef362d4f71a5051b44596745c1.png" width="50%" height="50%" >

## å®ç°åŠŸèƒ½

|    åŠŸèƒ½    |                             è¯´æ˜                             |
| :--------: | :----------------------------------------------------------: |
|  åŸºç¡€åŠŸèƒ½  |      è§†é¢‘feedæµã€è§†é¢‘æŠ•ç¨¿ï¼Œä¸ªäººä¿¡æ¯ã€ç”¨æˆ·ç™»å½•ã€ç”¨æˆ·æ³¨å†Œ      |
| æ‰©å±•åŠŸèƒ½ä¸€ | è§†é¢‘ç‚¹èµ/å–æ¶ˆç‚¹èµï¼Œç‚¹èµåˆ—è¡¨ï¼›ç”¨æˆ·è¯„è®º/åˆ é™¤è¯„è®ºï¼Œè§†é¢‘è¯„è®ºåˆ—è¡¨ |
| æ‰©å±•åŠŸèƒ½äºŒ |            ç”¨æˆ·å…³æ³¨/å–å…³ï¼›ç”¨æˆ·å…³æ³¨åˆ—è¡¨ã€ç²‰ä¸åˆ—è¡¨             |


## ç›®å½•ç»“æ„ 

```C:.
â”œâ”€.idea
â”‚  â””â”€dataSources
â”‚      â””â”€b1278ade-bf74-413c-a427-1bd4fc0f0dcc
â”‚          â””â”€storage_v2
â”‚              â””â”€_src_
â”‚                  â””â”€schema
â”œâ”€common
â”œâ”€config
â”œâ”€controller
â”œâ”€log
â”œâ”€minioStore
â”œâ”€proto
â”‚  â”œâ”€pkg
â”‚  â””â”€proto
â”œâ”€repository
â”œâ”€response
â”œâ”€routes
â”œâ”€service
â””â”€util
PS C:\Users\0\Desktop\TikTokLite-main> tree /f
å· Windows çš„æ–‡ä»¶å¤¹ PATH åˆ—è¡¨
å·åºåˆ—å·ä¸º 04BD-DE10
C:.
â”‚  config.yaml
â”‚  docker-compose.yml
â”‚  Dockerfile
â”‚  go.mod
â”‚  go.sum
â”‚  main.go
â”‚  README.md
â”‚  redis.conf
â”‚  TikTokLite.sql
â”‚  wait-for.sh
â”‚
â”œâ”€.idea
â”‚  â”‚  .gitignore
â”‚  â”‚  dataSources.local.xml
â”‚  â”‚  dataSources.xml
â”‚  â”‚  modules.xml
â”‚  â”‚  TikTokLite.iml
â”‚  â”‚  vcs.xml
â”‚  â”‚  workspace.xml
â”‚  â”‚
â”‚  â””â”€dataSources
â”‚      â”‚  b1278ade-bf74-413c-a427-1bd4fc0f0dcc.xml
â”‚      â”‚
â”‚      â””â”€b1278ade-bf74-413c-a427-1bd4fc0f0dcc
â”‚          â””â”€storage_v2
â”‚              â””â”€_src_
â”‚                  â””â”€schema
â”‚                          information_schema.FNRwLQ.meta
â”‚                          information_schema.FNRwLQ.zip
â”‚                          mysql.osA4Bg.meta
â”‚                          performance_schema.kIw0nw.meta
â”‚                          sys.zb4BAA.meta
â”‚                          TikTokLite.yLxFgg.meta
â”‚                          TikTokLite.yLxFgg.zip
â”‚
â”œâ”€common
â”‚      AuthMiddleware.go
â”‚      cache.go
â”‚      dbInit.go
â”‚
â”œâ”€config
â”‚      config.go
â”‚
â”œâ”€controller
â”‚      commentController.go
â”‚      favortiteController.go
â”‚      feedController.go
â”‚      publishController.go
â”‚      relationController.go
â”‚      userController.go
â”‚
â”œâ”€log
â”‚      log.go
â”‚
â”œâ”€minioStore
â”‚      minioClient.go
â”‚
â”œâ”€proto
â”‚  â”œâ”€pkg
â”‚  â”‚      comment.pb.go
â”‚  â”‚      favorite.pb.go
â”‚  â”‚      feed.pb.go
â”‚  â”‚      login.pb.go
â”‚  â”‚      publish.pb.go
â”‚  â”‚      register.pb.go
â”‚  â”‚      relation.pb.go
â”‚  â”‚      user.pb.go
â”‚  â”‚
â”‚  â””â”€proto
â”‚          comment.proto
â”‚          favorite.proto
â”‚          feed.proto
â”‚          login.proto
â”‚          publish.proto
â”‚          register.proto
â”‚          relation.proto
â”‚          user.proto
â”‚
â”œâ”€repository
â”‚      commentModel.go
â”‚      favoriteModel.go
â”‚      relationModel.go
â”‚      userModel.go
â”‚      videoModel.go
â”‚
â”œâ”€response
â”‚      response.go
â”‚
â”œâ”€routes
â”‚      comment.go
â”‚      favorite.go
â”‚      publish.go
â”‚      relation.go
â”‚      routes.go
â”‚      user.go
â”‚
â”œâ”€service
â”‚      commentService.go
â”‚      favoriteService.go
â”‚      feedService.go
â”‚      publishService.go
â”‚      relationService.go
â”‚      userService.go
â”‚
â””â”€util
        util.go
```

- `common`ï¼šä¸­é—´ä»¶ã€æ•°æ®åº“åˆå§‹åŒ–
- `config`ï¼š è¯»å–é…ç½®
- `controller`ï¼šè§†å›¾å±‚ï¼Œå¤„ç†å‰ç«¯æ¶ˆæ¯
- `log`ï¼šzapæ—¥å¿—ç»„ä»¶è¿›è¡Œå°è£…
- `minioStore`ï¼šå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œç”Ÿæˆè§†é¢‘å¯¹å¤–è®¿é—®è¿æ¥
- `proto`ï¼šå‰ç«¯æ¶ˆæ¯ç»“æ„ä½“ï¼Œç”±`protobuf`æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ
- `repository`ï¼šæ•°æ®å±‚ï¼Œç›´æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ
- `response`ï¼šå¯¹è¿”å›æ¶ˆæ¯è¿›è¡Œå°è£…
- `routes`ï¼šè·¯ç”±å±‚
- `service`ï¼šé€»è¾‘å±‚ï¼Œæ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Œä»æ•°æ®å±‚è·å–æ•°æ®ï¼Œå°è£…åè¿”å›è¯•å›¾å±‚
- `uitl`ï¼šå·¥å…·å‡½æ•°
- `TikTokLite.sql`ï¼šæ•°æ®åº“å»ºè¡¨æ–‡ä»¶ 
- `config.yaml`ï¼šé…ç½®æ–‡ä»¶
- `redis.conf`ï¼šredisé…ç½®æ–‡ä»¶
- `main.go`ï¼šæœåŠ¡å…¥å£

## å¼€å‘æ•´ä½“è®¾è®¡

### æ•´ä½“æ¶æ„å›¾

<img src="https://img-blog.csdnimg.cn/cc6070c6e54a40dc95ea9b34cd855aa8.png"  width="65%" height="65%"  >



### æ•°æ®åº“è®¾è®¡

<img src="https://img-blog.csdnimg.cn/be4524a1a81e4a31a6699ea03c3466f2.png" width="65%" height="65%"  >

## ä¼˜åŒ–

### 1. å®‰å…¨

1. å¼•å…¥JWTï¼Œè¿›è¡Œ`å…¨å±€Tokenç®¡ç†`ï¼Œé«˜æ•ˆç®¡ç†ç”¨æˆ·Tokenï¼Œå¹¶ä¸”è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚
2. Rediså¼•å…¥`redsyncé”`æœºåˆ¶ï¼Œé˜²æ­¢ä¿©ä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯(ä¾‹å¦‚å…³æ³¨)
3. Rediså¼•å…¥`äº‹åŠ¡`æœºåˆ¶ï¼Œé˜²æ­¢å¤šè¡¨æ“ä½œæ—¶ï¼Œåªä¿®æ”¹ä¸€å¼ è¡¨ã€‚æœ€ç»ˆå¯¼è‡´å¤±è´¥ã€‚
4. ä½¿ç”¨å‚æ•°å ä½ç¬¦æ¥æ„é€ SQLè¯­å¥ï¼Œä¸ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ`é¿å…SQLæ³¨å…¥`
5. ç”¨æˆ·å¯†ç è¿›è¡Œ`MD5åŠ å¯†`å¤„ç†ï¼Œè¿”å›ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æ—¶è¿›è¡Œ`è„±æ•`ã€‚
6. å®ç°`é‰´æƒä¸­é—´ä»¶`ï¼Œå°†é‰´æƒå’Œå®é™…ä¸šåŠ¡åˆ†ç¦»ï¼Œå¯¹ä¸åŒçš„æ¥å£è®¾ç½®ä¸åŒçš„è®¿é—®æƒé™
7. ä½¿ç”¨`docker`æ•´åˆæ‰€æœ‰ç›¸å…³ä¾èµ–æœåŠ¡ï¼Œä¾¿äºç”¨æˆ·å¿«é€Ÿéƒ¨ç½²æœåŠ¡ï¼Œä½¿ç”¨wait-forç¡®ä¿å…¶ä»–ä¾èµ–æœåŠ¡å¯åŠ¨åå†å¯åŠ¨åç«¯æœåŠ¡

### 2. æ€§èƒ½
1. æ ¹æ®å®é™…ä¸šåŠ¡,Querryè¯­å¥çš„éœ€æ±‚ï¼Œåˆç†`è®¾ç½®ç›¸å…³ç´¢å¼•`ï¼Œä¿è¯ç´¢å¼•é«˜å‘½ä¸­
2. å¼•å…¥`Redis`ä½œä¸ºä¸­é—´ä»¶ï¼Œç”¨æ¥å®ç°å¯¹è±¡ç¼“å­˜ï¼Œæå‡å“åº”é€Ÿåº¦ï¼Œå‡å°‘IOæ“ä½œï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›
3. é€šè¿‡`Minio`è‡ªå·±æ­å»ºå¯¹è±¡å­˜å‚¨ï¼Œæ¥å­˜å‚¨ä¸Šä¼ è§†é¢‘ï¼Œå¹¶ä¸”å°†ä¸Šä¼ çš„è§†é¢‘ç”ŸæˆURLï¼Œå¹¶å°†URLæ”¾åœ¨æ•°æ®åº“ä¸­ï¼Œé¿å…å­˜å‚¨å†—ä½™ã€‚
4. é€šè¿‡`pprof`è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œå¼•å…¥ç¼“å­˜ä¸æ— ç¼“å­˜ä¹‹é—´çš„æ€§èƒ½

### 3. é¡¹ç›®ç»´æŠ¤

1. é¡¹ç›®`GitååŒ`,ä¸¥æ ¼éµå¾ªæˆå‘˜PR->Review->Mergeä¸‰æ­¥èµ°æµç¨‹ï¼Œé¿å…é”™è¯¯ä»£ç æ‰©æ•£åˆ°å…¶ä»–æˆå‘˜åº“
2. `å¤šæ¬¡è¿­ä»£ç›®å½•ç»“æ„`ã€‚ç›®å½•ç»“æ„æ¸…æ™°ï¼Œé…ç½®å•å…ƒã€æ—¥å¿—å•å…ƒã€å„æ¨¡å—å•å…ƒæ¡ç†åˆ†æ˜

3. æ–‡æ¡£ç®¡ç†ã€‚ä¿®æ”¹ä»£ç å‰åï¼Œè¦éšæ—¶è®°å½•æ–‡æ¡£ï¼Œè·Ÿè¿›å¼€å‘æµç¨‹ï¼Œå­—æœ€åæµ‹è¯•å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥æ‰¾åˆ°å…·ä½“è´Ÿè´£äººå¿«é€Ÿè§£å†³


## æœªæ¥å±•æœ›

- åˆ†å¸ƒå¼

  åˆ©ç”¨grpcä½œä¸ºåˆ†å¸ƒå¼æ¡†æ¶ï¼Œetcdæˆ–zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œå°†äº”ä¸ªæ¨¡å—åˆ†åˆ«å¸ƒç½®åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡RPCè¿œç¨‹è°ƒç”¨çš„æ–¹å¼ï¼Œæ¥è°ƒç”¨ç›¸å…³çš„æ¨¡å—çš„æ–¹æ³•ï¼Œåšåˆ°åˆ†å¸ƒå¼å¤„ç†ä¸è§£è€¦

<img src="https://img-blog.csdnimg.cn/f8e7445378f04f8ba77772a774c2afc0.png"  width="65%" height="65%" >



## ç‰ˆæœ¬æ§åˆ¶
- è¯¥é¡¹ç›®ä½¿ç”¨Gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚æ‚¨å¯ä»¥åœ¨repositoryå‚çœ‹å½“å‰å¯ç”¨ç‰ˆæœ¬ã€‚


